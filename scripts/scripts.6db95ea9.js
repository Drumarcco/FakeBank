"use strict";angular.module("fakeBankApp",["ngAnimate","ngResource","ngRoute","ngMaterial","ngCookies","LocalStorageModule"]).config(["$routeProvider","ACCESS_LEVELS",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main",access_level:b.pub}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl",access_level:b.pub}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about",access_level:b.pub}).when("/dashboard",{templateUrl:"views/dashboard.html",controller:"DashboardCtrl",access_level:b.physicalPerson}).when("/transaction",{templateUrl:"views/transaction.html",controller:"TransactionCtrl",access_level:b.physicalPerson}).when("/contracts",{templateUrl:"views/contracts.html",controller:"ContractsCtrl",access_level:b.employee}).when("/contracts/:id",{templateUrl:"views/contract.html",controller:"ContractCtrl",access_level:b.employee}).when("/api",{templateUrl:"views/api.html",controller:"ApiCtrl",access_level:b.moralPerson}).when("/history",{templateUrl:"views/history.html",controller:"HistoryCtrl",access_level:b.physicalPerson}).when("/profile",{templateUrl:"views/profile.html",controller:"ProfileCtrl",access_level:b.physicalPerson}).otherwise({redirectTo:"/"})}]).config(["$httpProvider",function(a){a.defaults.useXDomain=!0,delete a.defaults.headers.common["X-Requested-With"];var b=function(a,b,c){return{response:function(a){return"/api/login"===a.config.url&&c.setToken(a.data.token),a},responseError:function(c){switch(c.status){case 401:"api/login"!==c.config.url&&b.$broadcast("auth:loginRequired");break;case 403:b.$broadcast("auth:forbidden");break;case 404:b.$broadcast("page:notFound");break;case 500:b.$broadcast("server:error")}return a.reject(c)},request:function(a){return a.headers=a.headers||{},a.headers.Authorization||(a.headers.Authorization=c.getToken()),a},requestError:function(a){return a}}};b.$inject=["$q","$rootScope","Auth"],a.interceptors.push(b)}]).run(["$rootScope","$location","Auth",function(a,b,c){a.$on("$routeChangeStart",function(a,d){var e=d.$$route.originalPath;"/login"!==e&&"/"!==e||!c.isLoggedIn()||b.path("/dashboard"),c.isAuthorized(d.$$route.access_level)||(c.isLoggedIn()?b.path("/dashboard"):b.path("/login"))})}]).config(["$mdThemingProvider",function(a){a.theme("default").primaryPalette("teal").accentPalette("green"),a.theme("docs-teal","default").primaryPalette("light-green")}]).value("basePath","http://drumarcco-001-site1.itempurl.com/"),angular.module("fakeBankApp").controller("MainCtrl",["$scope","$anchorScroll","PreSignup","$filter",function(a,b,c,d){function e(){a.preSignup.$valid&&(a.partner.UserName=d("removeSpaces")(a.partner.UserName),console.log(a.partner),c.post(a.partner).then(function(){a.registered=!0}))}function f(){b("plans")}function g(c){a.partner.IdAccountType=c,b("signup")}a.registered=!1,a.register=e,a.goToPlans=f,a.selectPlan=g,a.plans=[{id:"F6A21D99-1075-46D6-81A0-EBF7291D9B9B",title:"Persona Física",description:"¿Necesitas una cuenta personal?",imgSrc:"images/man.77c56aca.jpg"},{id:"DBC78927-8D49-4506-B876-833989CEB2B9",title:"Persona Moral",description:"La cuenta bancaria que se adapta a las necesidades de tu negocio",imgSrc:"images/business-woman.a80486fd.jpg"}],a.partner={IdAccountType:"F6A21D99-1075-46D6-81A0-EBF7291D9B9B",UserName:"",FirstLastName:"",SecondLastName:"",Email:"",PhoneNumber:""}}]),angular.module("fakeBankApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),function(){angular.module("fakeBankApp").controller("AppCtrl",["$rootScope","$scope","$mdSidenav","Auth","$location",function(a,b,c,d,e){d.isLoggedIn()&&(a.username=d.getUser().username),b.toggleSidenav=function(){c("sidenav").toggle()},b.isLoggedIn=d.isLoggedIn,b.logout=function(){d.logout(),e.path("/")}}])}(),angular.module("fakeBankApp").controller("LoginCtrl",["$scope","Account",function(a,b){function c(){b.login(a.user)}a.login=c,a.user={username:"",password:""}}]),angular.module("fakeBankApp").controller("DashboardCtrl",["$scope","$rootScope","Auth","ACCESS_LEVELS",function(a,b,c,d){a.isAuthorized=c.isAuthorized,a.ROLES=d}]),angular.module("fakeBankApp").controller("TransactionCtrl",["$scope","Account","$mdToast","$location",function(a,b,c,d){a.transaction={CardNumber:"",IdAccount:"",Amount:0},a.accounts=[],a.transfer=function(){b.transfer(a.transaction).then(function(){c.showSimple("Transferncia exitosa."),d.path("/")})},a.updateBalance=function(){b.getBalance(a.transaction.IdAccount).then(function(b){a.balance=b})},b.getAll().then(function(b){a.accounts=b.data})}]),angular.module("fakeBankApp").controller("ContractCtrl",["$scope","$routeParams","PreSignup","Contract","$mdToast","$location",function(a,b,c,d,e,f){a.preSignup={},a.contract={IdPreRegistration:b.id,Gender:!1,Rfc:"",BirthDate:new Date,Password:"",ConfirmPassword:""},a.signUp=function(){console.log(a.contract),a.contractForm.$valid&&(a.contract.Gender=Boolean(a.contract.Gender),d.post(a.contract).then(function(){e.showSimple("Registro Guardado Exitosamente"),f.path("/contracts")}))},c.get(a.contract.IdPreRegistration).then(function(b){a.preSignup=b.data})}]),function(){function a(a,b){a.preSignups=[],b.getAll().then(function(b){a.preSignups=b.data})}angular.module("fakeBankApp").controller("ContractsCtrl",a),a.$inject=["$scope","PreSignup"]}(),angular.module("fakeBankApp").controller("ApiCtrl",["$scope","Account","basePath",function(a,b,c){a.Token="",a.AccountId="",a.basePath=c,a.getToken=function(){b.getToken(a.AccountId).then(function(b){a.Token=b.data.Token})},b.getAll().then(function(b){a.accounts=b.data})}]),function(){function a(a,b){a.AccountId="",a.getTransactions=function(){b.getHistory(a.AccountId).then(function(b){console.log(b.data),a.transactions=b.data})},b.getAll().then(function(b){a.accounts=b.data})}angular.module("fakeBankApp").controller("HistoryCtrl",a),a.$inject=["$scope","Account"]}(),function(){function a(a,b){a.accounts=[],b.getAll().then(function(c){a.accounts=c.data,a.accounts.forEach(function(a){b.getCard(a.Id).then(function(b){a.Card=b.data})})})}angular.module("fakeBankApp").controller("ProfileCtrl",a),a.$inject=["$scope","Account"]}(),function(){function a(a,b){function c(){a.cookie.remove("user")}function d(){var a=f();return a?a.token:""}function e(){var a=f();return a?a._id:null}function f(){return a.cookie.get("user")}function g(){var a=f();return a?!0:!1}function h(a){var b=f();return 1===a?!0:b?b.role>=a:!1}function i(c){(!c.role||c.role<0)&&(c.role=b.pub),a.cookie.set("user",c)}return{isAuthorized:h,setUser:i,isLoggedIn:g,getUser:f,getId:e,getToken:d,logout:c}}angular.module("fakeBankApp").factory("Auth",a),a.$inject=["localStorageService","ACCESS_LEVELS"]}(),function(){function a(a,b,c,d,e,f){function g(b){return a.get(c+"api/Account/GetCard/"+b)}function h(b){return a.get(c+"api/Transaction/GetAllByAccount/"+b)}function i(b){return a.get(c+"api/Account/Token/"+b)}function j(b){return a.post(c+"api/Transaction/Transfer",b)}function k(b){return a.get(c+"api/Account/Balance/"+b).then(function(a){return a.data.Balance})}function l(){return a.get(c+"api/Account/GetAll")}function m(g){var h="grant_type=password&username="+g.username+"&password="+g.password;a.post(c+"Token",h,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){function c(a){switch(a){case"45c79d52-6ffa-4a06-a110-20044de62043":return e.employee;case"5b39f271-737f-435a-92ae-13e1d6fbd687":return e.moralPerson;case"291a0b8b-1d9a-4def-97a6-07a4f2a800a2":return e.physicalPerson;default:return e.pub}}var h=a.data,i=c(h.role);b.setUser({username:g.username,token:"Bearer "+h.access_token,role:i}),f.username=g.username,d.path("/dashboard")})}return{login:m,getAll:l,getBalance:k,transfer:j,getToken:i,getHistory:h,getCard:g}}angular.module("fakeBankApp").factory("Account",a),a.$inject=["$http","Auth","basePath","$location","ACCESS_LEVELS","$rootScope"]}(),function(){function a(a,b){function c(c){return a.post(b+"api/PreRegistration",c)}function d(c){return a.get(b+"api/PreRegistration/"+c)}function e(){return a.get(b+"api/PreRegistration")}return{post:c,getAll:e,get:d}}angular.module("fakeBankApp").factory("PreSignup",a),a.$inject=["$http","basePath"]}(),function(){function a(a,b){function c(c){return b.post(a+"api/Account/Register",c)}return{post:c}}angular.module("fakeBankApp").factory("Contract",a),a.$inject=["basePath","$http"]}(),function(){angular.module("fakeBankApp").constant("ACCESS_LEVELS",{pub:1,physicalPerson:2,moralPerson:3,employee:4})}(),function(){angular.module("fakeBankApp").directive("confirmPassword",function(){return{require:"ngModel",scope:{reference:"=confirmPassword"},link:function(a,b,c,d){d.$parsers.unshift(function(b){var c=b!==a.reference;return d.$setValidity("noMatch",!c),b}),a.$watch("reference",function(a){d.$setValidity("noMatch",a===d.$viewValue)})}}})}(),function(){angular.module("fakeBankApp").filter("removeSpaces",[function(){return function(a){return angular.isString(a)?a.replace(/[\s]/g,""):a}}]).filter("creditCard",[function(){return function(a){if(!angular.isString(a))return a;for(var b="",c=0;c<a.length;c++)c%4===0&&0!==c&&(b+="-"),b+=a[c];return b}}])}(),angular.module("fakeBankApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/api.html",'<md-content flex="grow" class="bg-dashboard" layout="column"> <div layout-align="center center" layout-margin class="text-center"> <h1 class="text-center">Implementa Nuestra API</h1> <i class="fa fa-3x fa-code"></i> <h3>Comienza a ofrecer la opción de pago en línea utilizando nuestra Web API de transacciones.</h3> <hr class="fill-width"> </div> <div layout layout-align="center start" class="fill-width"> <div flex="80" layout="column"> <div layout layout-align="center center"> <div class="step"> <h2>1</h2> </div> </div> <md-card> <md-toolbar> <md-toolbar-tools> <h3 class="text-center">Elije una cuenta</h3> </md-toolbar-tools> </md-toolbar> <md-card-content layout="column" layout-align="center center"> <md-input-container> <label>Cuenta</label> <md-select ng-model="AccountId" ng-change="getToken()"> <md-option ng-repeat="account in accounts" value="{{account.Id}}"> {{account.CardNumber | creditCard }} </md-option> </md-select> </md-input-container> <div ng-if="Token" class="text-center"> <h3 class="text-center">{{Token}}</h3> <h4>Este es tu tóken único, por medio de él podemos identificar que tu negocio está intentando utilizar nuestra Web API, y se adjunta a cada una de las solicitudes HTTP a nuestro sistema.</h4> </div> </md-card-content> </md-card> <div ng-if="Token"> <div layout layout-align="center center"> <div class="step"> <h2>2</h2> </div> </div> <md-card> <md-toolbar> <md-toolbar-tools> <h3 class="text-center">Web API</h3> </md-toolbar-tools> </md-toolbar> <md-card-content layout="column" layout-align="center center"> <h3>Realizar una transacción</h3> <h4 class="text-center"> Nuestro servidor utiliza JSON para comunicar datos, la estructura que requerimos para realizar una transacción es la siguiente: </h4> <img ng-src="images/transaction_json.c8facab0.jpg"> <h4 class="text-center"> Envia un JSON a través de una petición HTTP POST con el formato anterior a la dirección <br> {{basePath}}api/Transaction <br> y si se logra completar la transacción, el servidor te responderá con HTTP status Code 200, de lo contrario, te responderá con HTTP Status Code 400 (Bad Request). </h4> </md-card-content> </md-card> </div> </div> </div> </md-content>'),a.put("views/contract.html",'<md-content flex="grow" class="bg-dashboard" layout="column" layout-align="start center" layout-padding> <div layout="row" layout-align="center center" layout-margin> <i class="fa fa-3x fa-file-text-o"></i> <h1 class="text-center">Contrato</h1> </div> <div layout layout-align="center" flex> <div flex> <md-card> <md-toolbar> <md-toolbar-tools> <h3 class="text-center">Cliente</h3> </md-toolbar-tools> </md-toolbar> <md-card-content> <div layout layout-align="center center"> <div layout="column" layout-align="center center"> <h5 class="m-b-0">Tipo de Cliente:</h5> <h4>{{ preSignup.AccountType ? \'Persona Moral\' : \'Persona Física\' }}</h4> </div> </div> <hr> <div layout layout-margin> <h4 class="bold">Nombre:</h4> <h4>{{preSignup.UserName}} {{preSignup.FirstSurname}} {{preSignup.SecondSurname}}</h4> </div> <div layout layout-margin layout-wrap> <h4 class="bold">Correo Electrónico:</h4> <h4>{{preSignup.Email}}</h4> </div> </md-card-content> </md-card> <hr> <h3 class="text-center">Continuar Registro:</h3> <md-card> <form name="contractForm" ng-submit="signUp()" novalidate> <md-card-content layout="column"> <md-input-container> <label>RFC</label> <input type="text" ng-model="contract.Rfc" required ng-minlength="12" ng-maxlength="13"> </md-input-container> <md-input-container> <label>Género</label> <md-select ng-model="contract.Gender" required> <md-option value="false"> Femenino </md-option> <md-option value="true"> Masculino </md-option> </md-select> </md-input-container> <md-datepicker layout-margin ng-model="contract.BirthDate" ng-required md-placeholder="Fecha de Nac."></md-datepicker> <md-input-container> <label>Contraseña</label> <input type="password" ng-model="contract.Password" required ng-min-length="6"> </md-input-container> <md-input-container> <label>Confirmar Contraseña</label> <input type="password" ng-model="contract.ConfirmPassword" required ng-min-length="6" confirm-password="contract.Password"> </md-input-container> </md-card-content> <md-card-actions layout layout-align="end"> <md-button type="submit" class="md-primary md-raised">Registrar</md-button> </md-card-actions> </form> </md-card> </div> </div> </md-content>'),a.put("views/contracts.html",'<md-content flex="grow" class="bg-dashboard" layout="column" layout-align="start center" layout-padding> <div layout="row" layout-align="center center" layout-margin> <i class="fa fa-3x fa-file-text-o"></i> <h1 class="text-center">Pre-Registros</h1> </div> <div layout layout-align="center" flex> <div flex> <h2 ng-if="preSignups.length === 0">No hay pre-registros pendientes</h2> <md-card ng-repeat="preSignup in preSignups"> <md-card-content> <div layout layout-align="center center"> <div layout="column" layout-align="center center"> <h5 class="m-b-0">Tipo de Cliente:</h5> <h4>{{preSignup.AccountType ? \'Persona Moral\' : \'Persona Física\' }}</h4> </div> </div> <hr> <div layout layout-margin> <h4 class="bold">Nombre:</h4> <h4>{{preSignup.UserName}} {{preSignup.FirstSurname}} {{preSignup.SecondSurname}}</h4> </div> <div layout layout-margin layout-wrap> <h4 class="bold">Correo Electrónico:</h4> <h4>{{preSignup.Email}}</h4> </div> </md-card-content> <md-card-actions layout layout-align="end"> <md-button ng-href="/#/contracts/{{preSignup.Id}}" class="md-primary md-raised">CONTINUAR</md-button> </md-card-actions> </md-card> </div> </div> </md-content>'),a.put("views/dashboard.html",'<md-content flex="grow" class="bg-dashboard"> <h1 class="text-center">Bienvenido, {{username}}.</h1> <hr> <div layout-md="row" layout-lg="row" layout-gt-lg="row" layout-margin layout-align="space-around" layout-wrap> <md-card ng-if="isAuthorized(ROLES.physicalPerson)" flex-md="40" flex-lg="40" flex-gt-lg="40"> <img src="images/transaction.9397bc81.jpg" class="md-card-image"> <md-card-title layout-align="center"> <span class="md-headline">Realizar una Transacción</span> </md-card-title> <md-card-content> <p>Enviar dinero nunca ha sido tan fácil, aprovecha nuestro portal en línea.</p> </md-card-content> <md-card-actions layout layout-align="end"> <md-button href="/#/transaction" class="md-primary"> Comenzar </md-button> </md-card-actions> </md-card> <md-card ng-if="isAuthorized(ROLES.physicalPerson)" flex-md="40" flex-lg="40" flex-gt-lg="40"> <img src="images/history.ca808b72.jpg" class="md-card-image"> <md-card-title layout="column" layout-align="center center"> <span class="md-headline">Historial de Transacciones</span> </md-card-title> <md-card-content> <p>Revisa el historial de transacciones realizadas en tu cuenta.</p> </md-card-content> <md-card-actions layout layout-align="end"> <md-button class="md-primary" href="/#/history"> Historial </md-button> </md-card-actions> </md-card> <md-card ng-if="isAuthorized(ROLES.moralPerson)" flex-md="40" flex-lg="40" flex-gt-lg="40"> <img src="images/code.01ce34a6.jpg" class="md-card-image"> <md-card-title layout="column" layout-align="center center"> <span class="md-headline">Implementa nuestra API</span> <span class="md-subhead">¿Tienes un sitio de compras en línea?</span> </md-card-title> <md-card-content> <p>Implementa nuestro sistema de transacciones en tu sitio y aumenta tus ingresos.</p> </md-card-content> <md-card-actions layout layout-align="end"> <md-button class="md-primary" href="/#/api"> Comenzar </md-button> </md-card-actions> </md-card> <md-card ng-if="isAuthorized(ROLES.employee)" flex-md="40" flex-lg="40" flex-gt-lg="40"> <img src="images/agreement.f91fac30.jpg" class="md-card-image"> <md-card-title layout="column" layout-align="center center"> <span class="md-headline">Realizar contratos</span> </md-card-title> <md-card-content> <p>Llevar a cabo contratos de clientes pre-registrados.</p> </md-card-content> <md-card-actions layout layout-align="end"> <md-button class="md-primary" href="/#/contracts"> Comenzar </md-button> </md-card-actions> </md-card> </div> </md-content>'),a.put("views/history.html",'<md-content flex="grow" class="bg-dashboard" layout="column" layout-align="start center" layout-padding> <div layout="row" layout-align="center center" layout-margin> <i class="fa fa-3x fa-file-text-o"></i> <h1 class="text-center">Historial de Transacciones</h1> </div> <md-input-container> <label>Tarjeta</label> <md-select ng-model="AccountId" ng-change="getTransactions()"> <md-option ng-repeat="account in accounts" value="{{account.Id}}"> {{account.CardNumber | creditCard}} </md-option> </md-select> </md-input-container> <div layout layout-align="center" flex> <div flex> <h2 ng-if="transactions.length === 0">No hay transacciones.</h2> <md-card ng-repeat="transaction in transactions"> <md-card-content> <div layout layout-align="center center"> <div layout="column" layout-align="center center"> <h5 class="m-b-0"> Numero de Transaccion: </h5> <h4>{{ transaction.TransactionNumber }}</h4> <h5 class="m-b-0">Monto:</h5> <h4>{{transaction.Amount | currency}}</h4> </div> </div> <hr> <div layout layout-margin> <h4 class="bold">Fecha:</h4> <h4>{{transaction.Date | date : \'short\' : \'PDT\'}}</h4> </div> <div layout layout-margin layout-wrap> <h4 class="bold">Tarjeta Destino:</h4> <h4>{{ transaction.DestinationCard | creditCard }}</h4> </div> </md-card-content> </md-card> </div> </div> </md-content>'),a.put("views/login.html",'<md-content flex="grow"> <section id="login" class="bg-bank" layout="column"> <div class="jumbotron bg-shadow fill-width" flex layout="column" layout-align="center center" layout-padding> <div class="text-center"> <h1>Ingresa a tu dashboard</h1> </div> <hr> <div class="fill-width" layout="row" layout-align="center"> <md-card flex="40" flex-sm="60" flex-xs="80" layout-padding> <form novalidate> <md-card-content layout="column"> <md-input-container> <label>Usuario</label> <input ng-model="user.username"> </md-input-container> <md-input-container> <label>Contraseña</label> <input type="password" ng-model="user.password"> </md-input-container> </md-card-content> <md-card-actions layout="row" layout-align="end"> <md-button href="/#/dashboard" class="md-primary md-raised" ng-click="login()">Ingresar</md-button> </md-card-actions> </form> </md-card> </div> </div> </section> </md-content>'),a.put("views/main.html",'<md-content flex="grow"> <section id="header" class="bg-bank" layout="column"> <div class="jumbotron bg-shadow fill-width" flex layout="column" layout-align="center center" layout-padding> <h1 class="text-center md-display-2">Fake Bank</h1> <hr> <h2 class="text-center" layout-margin>Somos un banco ficticio de confianza, dispuestos a ofrecerte la mejor opción.</h2> <a ng-click="goToPlans()"> <i class="fa fa-2x fa-chevron-down"></i> </a> </div> </section> <section id="plans" layout="column"> <div flex layout="column" layout-align="center center"> <h1 class="text-center"> Tenemos dos opciones para ti </h1> <div layout layout-xs="column" layout-sm="column" layout-align="center" layout-align-xs="center center" layout-align-sm="center center"> <md-card flex="40" flex-xs="50" flex-sm="50" ng-repeat="plan in plans"> <img ng-src="{{plan.imgSrc}}" class="md-card-image"> <md-card-title layout-align="center"> <span class="md-headline">{{plan.title}}</span> </md-card-title> <md-card-content> <p>{{plan.description}}</p> </md-card-content> <md-card-actions layout="row" layout-align="end"> <md-button class="md-primary" ng-click="selectPlan(plan.id)">Elegir</md-button> </md-card-actions> </md-card> </div> </div> </section> <section id="signup" class="bg-signup" layout="column"> <div class="bg-shadow-teal" flex layout="column" layout-align="center center"> <div ng-hide="registered"> <h1 class="text-center">Seamos socios</h1> <h3 class="text-center">Pre-registrate con nosotros para contratar nuestros servicios.</h3> <div layout layout-align="center" class="fill-width"> <md-card flex="70" layout-padding layout-align="center"> <md-card-content flex> <md-content> <form name="preSignup" layout="column" novalidate> <md-input-container> <label>Tipo de Socio</label> <md-select ng-model="partner.IdAccountType" required> <md-option ng-repeat="plan in plans" value="{{plan.id}}"> {{plan.title}} </md-option> </md-select> </md-input-container> <md-input-container> <label>Nombre de Usuario</label> <input ng-model="partner.UserName" required> </md-input-container> <md-input-container> <label>Apellido Paterno</label> <input ng-model="partner.FirstLastName" required> </md-input-container> <md-input-container> <label>Apellido Materno</label> <input ng-model="partner.SecondLastName" required> </md-input-container> <md-input-container> <label>E-mail</label> <input type="email" ng-model="partner.Email" required> </md-input-container> <md-input-container> <label>Teléfono</label> <input ng-model="partner.PhoneNumber" required> </md-input-container> </form> </md-content> </md-card-content> <md-card-actions layout layout-align="end"> <md-button class="md-primary md-raised" ng-click="register()">Registrar</md-button> </md-card-actions> </md-card> </div> </div> <div ng-if="registered"> <h1>¡Gracias, te contactaremos pronto!</h1> </div> </div> </section> </md-content>'),a.put("views/profile.html",'<md-content flex="grow" class="bg-dashboard" layout="column" layout-align="start center" layout-padding> <div layout="row" layout-align="center center" layout-margin> <i class="fa fa-3x fa-file-text-o"></i> <h1 class="text-center">Cuentas de {{username}}</h1> </div> <div layout layout-align="center" flex> <div flex> <md-card ng-repeat="account in accounts"> <md-card-content> <div layout layout-align="center center"> <div layout="column" layout-align="center center"> <h5 class="m-b-0">Número de Cuenta:</h5> <h4>{{ account.Id }}</h4> </div> </div> <hr> <div layout layout-margin> <h4 class="bold">Número de Tarjeta:</h4> <h4>{{ account.CardNumber | creditCard }}</h4> </div> <div layout layout-margin layout-wrap> <h4 class="bold">Expiración:</h4> <h4>{{ account.Card.ExpirationDate }}</h4> </div> <div layout layout-margin layout-wrap> <h4 class="bold">Código de Seguridad:</h4> <h4>{{ account.Card.SecurityCode }}</h4> </div> <div class="text-right" layout-margin layout-wrap> <h2>{{account.Balance | currency }}</h2> </div> </md-card-content> </md-card> </div> </div> </md-content>'),a.put("views/transaction.html",'<md-content flex="grow" class="bg-dashboard"> <h1 class="text-center">Realizar una Transacción</h1> <hr> <div layout layout-align="center"> <md-card flex="80" layout-padding> <form ng-submit="transfer()" layout="column" novalidate> <md-card-content layout="column"> <div layout layout-align="end"> <div ng-if="balance" layout="column" layout-align="center end"> <h3 class="m-b-0">Saldo Actual:</h3> <h2>{{balance | currency}}</h2> </div> </div> <md-input-container> <label>Tarjeta</label> <md-select ng-model="transaction.IdAccount" ng-change="updateBalance()" required> <md-option ng-repeat="account in accounts" value="{{account.Id}}"> {{account.CardNumber | creditCard}} </md-option> </md-select> </md-input-container> <md-input-container> <label>Tarjeta destino</label> <input ng-model="transaction.CardNumber" required> </md-input-container> <md-input-container> <label>Monto</label> <input type="number" ng-model="transaction.Amount" required> </md-input-container> </md-card-content> <md-card-ations layout layout-align="end"> <md-button type="submit" class="md-primary md-raised">Aceptar</md-button> </md-card-ations> </form> </md-card> </div> </md-content>')}]);